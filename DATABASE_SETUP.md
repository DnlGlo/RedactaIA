# Configuración de la Base de Datos (Supabase)

Para que el Panel de Administración y el guardado de datos funcione, debes seguir estos pasos:

## 1. Crear Proyecto en Supabase
1. Ve a [Supabase](https://supabase.com/) y crea un nuevo proyecto gratis.
2. En la sección **Settings > API**, copia la `URL` y la `anon public key`.
3. Pégalas en tu archivo `.env.local` (y en las variables de entorno de Vercel cuando despliegues):
   ```env
   VITE_SUPABASE_URL=tu_url_aqui
   VITE_SUPABASE_ANON_KEY=tu_key_aqui
   ```

## 2. Crear las Tablas (SQL Editor)
Ve a la sección **SQL Editor** en Supabase, pega el siguiente código y dale a **Run**:

```sql
-- Tabla de Perfiles de Usuario
create table profiles (
  id uuid references auth.users not null primary key,
  email text unique,
  name text,
  picture text,
  last_login timestamp with time zone,
  created_at timestamp with time zone default now()
);

-- Tabla de Suscripciones (Pagos)
create table subscriptions (
  id bigint generated bye default as identity primary key,
  user_email text,
  plan text, -- 'Premium' o 'Enterprise'
  status text, -- 'active', 'cancelled', etc.
  paypal_order_id text,
  created_at timestamp with time zone default now()
);

-- Tabla de Mensajes de Contacto
create table contact_messages (
  id bigint generated bye default as identity primary key,
  name text,
  email text,
  message text,
  created_at timestamp with time zone default now()
);

-- Habilitar acceso público (Solo para propósitos de este MVP, 
-- en producción deberías configurar RLS más estricto)
alter table profiles enable row level security;
create policy "Public access" on profiles for all using (true);

alter table subscriptions enable row level security;
create policy "Public access" on subscriptions for all using (true);

alter table contact_messages enable row level security;
create policy "Public access" on contact_messages for all using (true);
```

## 3. Probar el Admin
Inicia sesión en la web con el correo `redactaia9@gmail.com`. Verás un nuevo icono de "Layout" (panel) en la barra de navegación al lado de tu foto de perfil. ¡Desde ahí podrás ver a todos!
